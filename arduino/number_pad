#include <Keypad.h>

const byte ROWS = 4; // 키패드의 행 개수
const byte COLS = 4; // 키패드의 열 개수

// 키패드 배열 (넘버패드처럼 설정)
char keys[ROWS][COLS] = {
    {'1', '2', '3', 'A'},
    {'4', '5', '6', 'B'},
    {'7', '8', '9', 'C'},
    {'*', '0', '#', 'D'}
};

// 키패드 핀 설정
byte rowPins[ROWS] = {6, 7, 8, 9}; // 행 핀 연결
byte colPins[COLS] = {10, 11, 12, 13}; // 열 핀 연결

// 키패드 객체 생성
Keypad keypad = Keypad(makeKeymap(keys), rowPins, colPins, ROWS, COLS);

void setup() {
    Serial.begin(9600); // 시리얼 통신 시작
}

void loop() {
    char key = keypad.getKey(); // 키패드 입력 감지

    if (key) { // 입력이 감지되면
        if (key == '8') { // 위로 이동
            Serial.println("U"); // 위로 이동 명령
        } else if (key == '2') { // 아래로 이동
            Serial.println("W"); // 아래로 이동 명령
        } else if (key == '5') { // 선택
            Serial.println("S"); // 선택 명령
        }
    }

    delay(100); // 디바운싱을 위한 약간의 지연
}
